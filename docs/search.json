[
  {
    "objectID": "assign05.html",
    "href": "assign05.html",
    "title": "Assignment 5",
    "section": "",
    "text": "In this assignment, we demonstrate how to scrape U.S. Congressional government document metadata using a .csv or .json file from GovInfo.gov.\nWe use R packages like rjson, jsonlite, purrr, and magrittr to parse metadata and download government documents in bulk. This is especially useful for setting up background jobs for automated data collection in political science, public policy, and legal research."
  },
  {
    "objectID": "assign05.html#task-overview",
    "href": "assign05.html#task-overview",
    "title": "Assignment 5",
    "section": "",
    "text": "In this assignment, we demonstrate how to scrape U.S. Congressional government document metadata using a .csv or .json file from GovInfo.gov.\nWe use R packages like rjson, jsonlite, purrr, and magrittr to parse metadata and download government documents in bulk. This is especially useful for setting up background jobs for automated data collection in political science, public policy, and legal research."
  },
  {
    "objectID": "assign05.html#step-1-load-required-packages",
    "href": "assign05.html#step-1-load-required-packages",
    "title": "Assignment 5",
    "section": "Step 1: Load Required Packages",
    "text": "Step 1: Load Required Packages\nWe begin by loading the required packages and resetting memory. You may need to install some of these using install.packages() before running this.\n\n# Load necessary packages\nlibrary(purrr)\nlibrary(magrittr)\nlibrary(dplyr)\nlibrary(rjson)\nlibrary(jsonlite)\nlibrary(data.table)\nlibrary(readr)\n\n# Reset memory (optional)\ngc(reset = TRUE)\n\n          used (Mb) gc trigger (Mb) max used (Mb)\nNcells  720843 38.5    1404178   75   720843 38.5\nVcells 1268977  9.7    8388608   64  1268977  9.7"
  },
  {
    "objectID": "assign05.html#step-2-read-the-metadata-file-csv-method",
    "href": "assign05.html#step-2-read-the-metadata-file-csv-method",
    "title": "Assignment 5",
    "section": "Step 2: Read the Metadata File (CSV Method)",
    "text": "Step 2: Read the Metadata File (CSV Method)\n\n## CSV method\ngovfiles = read.csv(\n  file = \"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_10_42.csv\",\n  skip = 2\n)"
  },
  {
    "objectID": "assign05.html#step-3-load-metadata-using-rjson-json-method",
    "href": "assign05.html#step-3-load-metadata-using-rjson-json-method",
    "title": "Assignment 5",
    "section": "Step 3: Load Metadata Using rjson (JSON Method)",
    "text": "Step 3: Load Metadata Using rjson (JSON Method)\nThe JSON file provides the same data in a structured format. Here we use the rjson package and combine the results into a single data frame.\n\n## JSON method: rjson\ngf_list &lt;- rjson::fromJSON(\n  file =\"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_18_29.json\"\n)\ngovfiles2 = dplyr::bind_rows(gf_list$resultSet)\n\n## JSON method: jsonlite\ngf_list1 = jsonlite::read_json(\n  \"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_18_29.json\"\n)\n\n## Extract the list\ngovfiles3 &lt;- gf_list1$resultSet\n\n## One more step: flatten into a data frame\ngovfiles3 &lt;- govfiles3 |&gt; dplyr::bind_rows()"
  },
  {
    "objectID": "assign05.html#step-4-download-5-sample-reports",
    "href": "assign05.html#step-4-download-5-sample-reports",
    "title": "Assignment 5",
    "section": "Step 4: Download 5 Sample Reports",
    "text": "Step 4: Download 5 Sample Reports\nWe use a simple for loop to download the first five PDFs from govfiles3. These files are saved in the same working directory.\n\nfor (i in 1:5) {\n  download.file(\n    url = govfiles3$pdfLink[i],\n    destfile = paste0(\"report_\", i, \".pdf\")\n  )\n}"
  },
  {
    "objectID": "assign05.html#implementatiom",
    "href": "assign05.html#implementatiom",
    "title": "Assignment 5",
    "section": "Implementatiom",
    "text": "Implementatiom\n\nStep 1: Load Required Packages\nWe begin by loading the required packages and resetting memory. You may need to install some of these using install.packages() before running this.\n\n# Load necessary packages\nlibrary(purrr)\nlibrary(magrittr)\nlibrary(dplyr)\nlibrary(rjson)\nlibrary(jsonlite)\nlibrary(data.table)\nlibrary(readr)\n\n# Reset memory (optional)\ngc(reset = TRUE)\n\n          used (Mb) gc trigger (Mb) max used (Mb)\nNcells  720913 38.6    1404095   75   720913 38.6\nVcells 1269454  9.7    8388608   64  1269454  9.7\n\n\n\n\nStep 2: Read the Metadata File (CSV Method)\n\n## CSV method\ngovfiles = read.csv(\n  file = \"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_10_42.csv\",\n  skip = 2\n)\n\n\n\nStep 3: Load Metadata Using rjson (JSON Method)\nThe JSON file provides the same data in a structured format. Here we use the rjson package and combine the results into a single data frame.\n\n## JSON method: rjson\ngf_list &lt;- rjson::fromJSON(\n  file =\"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_18_29.json\"\n)\ngovfiles2 = dplyr::bind_rows(gf_list$resultSet)\n\n## JSON method: jsonlite\ngf_list1 = jsonlite::read_json(\n  \"https://github.com/datageneration/datamethods/raw/refs/heads/master/webdata/govinfo-search-results-2024-10-13T07_18_29.json\"\n)\n\n## Extract the list\ngovfiles3 &lt;- gf_list1$resultSet\n\n## One more step: flatten into a data frame\ngovfiles3 &lt;- govfiles3 |&gt; dplyr::bind_rows()\n\n\n\nStep 4: Download 5 Sample Reports\nWe use a simple for loop to download the first five PDFs from govfiles3. These files are saved in the same working directory.\n\nfor (i in 1:5) {\n  download.file(\n    url = govfiles3$pdfLink[i],\n    destfile = paste0(\"report_\", i, \".pdf\")\n  )\n}\n\n\n\nStep 5: Show preview of scraped metadata\n\nhead(govfiles3[, c(\"title\", \"pdfLink\")])\n\n# A tibble: 6 × 2\n  title                                                                  pdfLink\n  &lt;chr&gt;                                                                  &lt;chr&gt;  \n1 Condemning the brutal Hamas-led terrorist attack on Israel on October… https:…\n2 Providing for congressional disapproval of the proposed foreign milit… https:…\n3 Commemorating the tenth anniversary of the murder of James Wright Fol… https:…\n4 Providing for congressional disapproval of the proposed license amend… https:…\n5 Providing for congressional disapproval of the proposed foreign milit… https:…\n6 Providing for congressional disapproval of the proposed foreign milit… https:…\n\n\n\n\nStep 6: List Downloaded Files\n\nlist.files(pattern = \"report_.*.pdf\")\n\n[1] \"report_1.pdf\" \"report_2.pdf\" \"report_3.pdf\" \"report_4.pdf\" \"report_5.pdf\""
  },
  {
    "objectID": "assign05.html#summary",
    "href": "assign05.html#summary",
    "title": "Assignment 5",
    "section": "Summary",
    "text": "Summary\nIn this assignment, I scraped U.S. government documents using JSON metadata from GovInfo.gov.\nUsing the rjson and jsonlite packages, I extracted metadata, previewed document titles, and batch-downloaded five official PDF reports.\nThe table above shows a preview of document titles and download links, and the messages below confirm the successful downloads."
  }
]